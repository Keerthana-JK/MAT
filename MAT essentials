public void LoadMedications()
{
    // Read all medications from the repository
    MedicationSchedules = medicationSchedulesRepo.ReadAll();

    foreach (var medication in MedicationSchedules)
    {
        // Ensure that ScheduledTime is not null or empty before calling SetMedicationTimingFromScheduledTime
        if (!string.IsNullOrEmpty(medication.ScheduledTime))
        {
            try
            {
                // Parse the ScheduledTime string into MedicationTiming
                medication.SetMedicationTimingFromScheduledTime();
            }
            catch (Exception ex)
            {
                // Handle any exceptions that occur during the parsing process
                Console.WriteLine("Error parsing ScheduledTime: " + ex.Message);
            }
        }
        else
        {
            // Log or handle cases where ScheduledTime is invalid
            Console.WriteLine($"MedicationSchedule with ScheduleID: {medication.ScheduleID} has an invalid ScheduledTime.");
        }
    }
}
